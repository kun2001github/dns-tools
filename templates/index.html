<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DNS Pro 批量查询工具</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/styles.css" onerror="(function(){var l=document.createElement('link');l.rel='stylesheet';l.href='/static/css/styles.css';l.onerror=function(){var l2=document.createElement('link');l2.rel='stylesheet';l2.href='{{ url_for('static', filename='css/styles.css') }}';document.head.appendChild(l2);};document.head.appendChild(l);})();">

</head>




<body>
    <canvas id="constellation-canvas" style="position:fixed; top:0; left:0; width:100%; height:100%; z-index:-1;"></canvas>
    <div class="main-container">
        <div style="text-align: center; margin-bottom: 40px;">
            <h1 style="font-size: 2.5rem; margin-bottom: 10px; background: linear-gradient(to right, #fff, #38bdf8); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">DNS ANALYST PRO</h1>
            <p style="color: var(--text-dim);">高效、精准、批量化域名解析分析系统</p>
        </div>

        <div class="three-column-container">
            <!-- 左边：节点配置 -->
            <div class="glass-card">
                <h3><span style="margin-right:8px;">⚙️</span> 节点配置</h3>
                <label>DNS 服务器 (IP # 标签):</label>
                <textarea id="dns_servers">202.96.128.166 # 电信DNS
183.240.8.114 # 联通DNS
8.8.8.8 # 谷歌DNS</textarea>
                
                <!-- 常用DNS服务器推荐 -->
                <div style="margin-top: 10px; padding: 10px; background: rgba(56, 189, 248, 0.05); border-radius: 8px; border: 1px solid rgba(56, 189, 248, 0.2);">
                    <div style="color: var(--accent-color); font-weight: 600; font-size: 0.85rem; margin-bottom: 8px;">💡 常用DNS服务器</div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; font-size: 0.8rem;">
                        <button onclick="addDNS('202.96.128.166 # 电信DNS')" class="btn btn-outline" style="padding: 4px 8px; font-size: 0.75rem;">电信DNS</button>
                        <button onclick="addDNS('183.240.8.114 # 联通DNS')" class="btn btn-outline" style="padding: 4px 8px; font-size: 0.75rem;">联通DNS</button>
                        <button onclick="addDNS('114.114.114.114 # 114DNS')" class="btn btn-outline" style="padding: 4px 8px; font-size: 0.75rem;">114DNS</button>
                        <button onclick="addDNS('119.29.29.29 # DNSPod')" class="btn btn-outline" style="padding: 4px 8px; font-size: 0.75rem;">DNSPod</button>
                        <button onclick="addDNS('223.5.5.5 # 阿里DNS')" class="btn btn-outline" style="padding: 4px 8px; font-size: 0.75rem;">阿里DNS</button>
                        <button onclick="addDNS('180.76.76.76 # 百度DNS')" class="btn btn-outline" style="padding: 4px 8px; font-size: 0.75rem;">百度DNS</button>
                        <button onclick="addDNS('8.8.8.8 # 谷歌DNS')" class="btn btn-outline" style="padding: 4px 8px; font-size: 0.75rem;">谷歌DNS</button>
                        <button onclick="addDNS('1.1.1.1 # Cloudflare')" class="btn btn-outline" style="padding: 4px 8px; font-size: 0.75rem;">Cloudflare</button>
                    </div>
                </div>
                
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button onclick="saveDNSConfig()" class="btn btn-outline" style="flex:1; padding: 10px;">保存配置</button>
                    <button onclick="loadDNSConfig()" class="btn btn-outline" style="flex:1; padding: 10px;">加载配置</button>
                </div>
            </div>

            <!-- 中间：目标域名 -->
            <div class="glass-card">
                <h3><span style="margin-right:8px;">🎯</span> 目标域名</h3>
                <label>输入需要查询的网站（支持空格、逗号、换行分隔，支持URL格式）:</label>
                <textarea id="domains" placeholder="example.com google.com&#10;https://www.google.com http://github.com/user/repo&#10;或: www.baidu.com,https://example.com?param=value,youtube.com" oninput="updatePreview()"></textarea>
                
                <div style="display: flex; gap: 10px; margin-top: 10px;">
                    <button onclick="togglePreview()" class="btn btn-outline" style="flex:1; padding: 8px; font-size: 0.9rem;">
                        <span id="previewIcon" style="margin-right:5px;">👁️</span>
                        <span id="previewText">隐藏格式化预览</span>
                    </button>
                </div>
                
                <!-- 格式化结果预览区域 -->
                <div id="formatPreview" style="margin-top: 15px; padding: 12px; background: rgba(15, 23, 42, 0.5); border: 1px solid var(--border-color); border-radius: 8px; font-size: 0.85rem;">
                    <div style="color: var(--accent-color); font-weight: 600; margin-bottom: 8px;">格式化预览:</div>
                    <div id="previewContent" style="font-family: 'JetBrains Mono', monospace; color: var(--text-dim); max-height: 50px; overflow-y: auto; line-height: 1.4;"></div>
                    <div id="previewStats" style="margin-top: 8px; font-size: 0.8rem; color: var(--text-dim);"></div>
                </div>
            </div>

            <!-- 右边：历史溯源 -->
            <div class="glass-card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="margin:0;"><span style="margin-right:8px;">📜</span> 历史溯源</h3>
                    <div style="position: relative;">
                        <button id="clearHistoryBtn" onclick="clearHistory()" class="btn" style="background: rgba(239, 68, 68, 0.1); color: #ef4444; padding: 4px 12px; font-size: 0.8rem; border-radius: 4px;">清空全部</button>
                    </div>
                </div>
                <div id="historyList" class="history-panel"></div>
            </div>
        </div>

        <div class="progress-container" id="progressContainer">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div id="progressText" style="text-align:center; font-size:0.8rem; color:var(--accent-color); margin-top:8px;">Ready</div>
        </div>

        <div style="display: flex; flex-direction: column; gap: 12px; justify-content: flex-start; align-items: flex-start; margin: 30px 0; width: 100%;">
            <div style="position: relative; display: flex; align-items: center; gap: 12px; width: 100%; min-height: 68px;">
                <button onclick="toggleViewMode()" id="viewToggleBtn" class="btn btn-outline" style="font-size: 1.2rem; padding: 16px 40px; border-radius: 50px; letter-spacing: 2px; border: 2px solid var(--accent-color); color: var(--accent-color); transition: all 0.3s ease;">
                    <span id="viewToggleIcon">📇</span>
                    <span id="viewToggleText">视图切换</span>
                </button>

                <button onclick="queryDNS()" class="btn btn-primary query-main-btn" style="position: absolute; left: 50%; transform: translateX(-50%);">RUN QUERY</button>
            </div>

            <div id="verticalViewHint" style="display: block; text-align: left; color: var(--text-dim); font-size: 0.85rem; line-height: 1.4; max-width: 980px;">
                提示：当解析域名 A 记录在多个 DNS 解析中，将显示相同的颜色。
            </div>
        </div>

        <div id="result"></div>

        <div class="footer-info">
            StandardSoftware IT TOOLBOX &copy; 2025 // DNS BATCH ANALYZER V2.0
        </div>

        <!-- 返回顶部按钮 -->
        <button id="backToTopBtn" onclick="scrollToTop()" class="btn" style="position: fixed; bottom: 30px; right: 30px; width: 50px; height: 50px; border-radius: 50%; background: var(--accent-color); color: white; border: none; font-size: 1.5rem; box-shadow: 0 4px 15px rgba(56, 189, 248, 0.4); z-index: 1000; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; opacity: 0; transform: translateY(20px); pointer-events: none;">
            ↑
        </button>
    </div>

    <script src="../static/js/main.js" onerror="(function(f){var s=document.createElement('script');s.src='/static/js/main.js';s.onerror=function(){var s2=document.createElement('script');s2.src=f;document.body.appendChild(s2);};document.body.appendChild(s);}('{{ url_for('static', filename='js/main.js') }}'));"></script>
</body>

</html>




